!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunklasa_schedules=self.webpackChunklasa_schedules||[]).push([[8023],{8023:function(t,o,i){i.r(o),i.d(o,{CurrentSchedulePageModule:function(){return U}});var r,a=i(8583),s=i(665),c=i(7823),u=i(1383),l=i(4762),Z=i(639),g=((r=function(){function t(n){e(this,t),this.me=n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"dismissModal",value:function(){this.me.dismiss()}}]),t}()).\u0275fac=function(e){return new(e||r)(Z.Y36(c.IN))},r.\u0275cmp=Z.Xpm({type:r,selectors:[["app-about"]],decls:63,vars:1,consts:[["slot","end"],[3,"click"],["name","close"],[3,"fullscreen"],["collapse","condense"],["size","large"],["src","assets/lasa-banner.png"],["color","lasa",2,"vertical-align","middle"],["href","mailto:cameron@lasa2019.com?subject=LASA%20Schedules%20App%20Feedback"],["href","https://schedules-editor.lasa2019.com","target","_blank"],["href","https://github.com/camtheman256/lasa-schedules-3","target","_blank"],["name","logo-github","slot","start"],["href","https://github.com/camtheman256/lasa-schedules-data","target","_blank"],["href","https://github.com/camtheman256/lasa-schedules-editor","target","_blank"],["href","https://camk.co","target","_blank"],["name","person","slot","start"],["href","https://lasa2019.com","target","_blank"],["name","school","slot","start"],[2,"margin-top","1rem"],["href","https://creativecommons.org/licenses/by/4.0/legalcode","target","_blank"],["href","https://notificationsounds.com/wake-up-tones/solemn-522"]],template:function(e,t){1&e&&(Z.TgZ(0,"ion-header"),Z.TgZ(1,"ion-toolbar"),Z.TgZ(2,"ion-title"),Z._uU(3,"About LASA Schedules"),Z.qZA(),Z.TgZ(4,"ion-buttons",0),Z.TgZ(5,"ion-button",1),Z.NdJ("click",function(){return t.dismissModal()}),Z._UZ(6,"ion-icon",2),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(7,"ion-content",3),Z.TgZ(8,"ion-header",4),Z.TgZ(9,"ion-toolbar"),Z.TgZ(10,"ion-title",5),Z._uU(11,"About"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(12,"ion-card"),Z._UZ(13,"img",6),Z.TgZ(14,"ion-card-header"),Z.TgZ(15,"ion-card-title"),Z._uU(16,"LASA Schedules "),Z.TgZ(17,"ion-badge",7),Z._uU(18,"v3"),Z.qZA(),Z.qZA(),Z.TgZ(19,"ion-card-subtitle"),Z._uU(20,"by Cameron Kleiman for LASA 2019"),Z.qZA(),Z.qZA(),Z.TgZ(21,"ion-card-content"),Z.TgZ(22,"p"),Z._uU(23,"If you have feedback, please email "),Z.TgZ(24,"a",8),Z._uU(25,"cameron@lasa2019.com"),Z.qZA(),Z._uU(26,"."),Z.qZA(),Z.TgZ(27,"p"),Z._uU(28,"You can edit the schedules powering this app! Visit "),Z.TgZ(29,"a",9),Z._uU(30,"LASA Schedules Editor"),Z.qZA(),Z._uU(31," to get started."),Z.qZA(),Z.TgZ(32,"ion-list"),Z.TgZ(33,"ion-list-header"),Z._uU(34,"Links"),Z.qZA(),Z.TgZ(35,"ion-item",10),Z.TgZ(36,"ion-label"),Z._uU(37,"LASA Schedules 3"),Z.qZA(),Z._UZ(38,"ion-icon",11),Z.qZA(),Z.TgZ(39,"ion-item",12),Z.TgZ(40,"ion-label"),Z._uU(41,"LASA Schedules Data API"),Z.qZA(),Z._UZ(42,"ion-icon",11),Z.qZA(),Z.TgZ(43,"ion-item",13),Z.TgZ(44,"ion-label"),Z._uU(45,"LASA Schedules Editor"),Z.qZA(),Z._UZ(46,"ion-icon",11),Z.qZA(),Z.TgZ(47,"ion-item",14),Z.TgZ(48,"ion-label"),Z._uU(49,"Cameron Kleiman"),Z.qZA(),Z._UZ(50,"ion-icon",15),Z.qZA(),Z.TgZ(51,"ion-item",16),Z.TgZ(52,"ion-label"),Z._uU(53,"LASA 2019"),Z.qZA(),Z._UZ(54,"ion-icon",17),Z.qZA(),Z.qZA(),Z.TgZ(55,"p",18),Z._uU(56," The bell sound used, unaltered, is copyright notificationsounds.com and licensed under "),Z.TgZ(57,"a",19),Z._uU(58,"CC BY 4.0"),Z.qZA(),Z._uU(59,". It can be found at "),Z.TgZ(60,"a",20),Z._uU(61,"this link"),Z.qZA(),Z._uU(62,". "),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(7),Z.Q6J("fullscreen",!0))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.YG,c.gu,c.W2,c.PM,c.Zi,c.gZ,c.yp,c.tO,c.FN,c.q_,c.yh,c.Ie,c.Q$],styles:[""]}),r),d=i(6421),h=i(6370),f=i(9775);function m(e,t){if(1&e&&(Z.TgZ(0,"h2"),Z._uU(1),Z.ALo(2,"timeFormat"),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.hij(" Ends at ",Z.xi3(2,1,n.currentStatus.periodEndTime,!!n.preferences&&n.preferences.twentyfour)," ")}}function p(e,t){if(1&e&&(Z.TgZ(0,"p"),Z._uU(1),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.hij(" Time remaining: ",n.currentStatus.timeRemaining," ")}}function A(e,t){if(1&e&&(Z.TgZ(0,"div"),Z.TgZ(1,"ion-card-header"),Z.TgZ(2,"ion-card-subtitle"),Z._uU(3,"Current Period"),Z.qZA(),Z.TgZ(4,"ion-card-title"),Z._uU(5),Z.qZA(),Z.qZA(),Z.TgZ(6,"ion-card-content"),Z.YNc(7,m,3,4,"h2",14),Z.YNc(8,p,2,1,"p",14),Z.qZA(),Z.qZA()),2&e){var n=Z.oxw();Z.xp6(5),Z.Oqu(n.currentStatus.currentPeriod),Z.xp6(2),Z.Q6J("ngIf",n.currentStatus.periodEndTime),Z.xp6(1),Z.Q6J("ngIf",n.currentStatus.timeRemaining)}}function b(e,t){1&e&&(Z.TgZ(0,"ion-card-content"),Z.TgZ(1,"ion-card-title"),Z._uU(2,"Loading..."),Z.qZA(),Z.qZA())}var T=[{path:"",component:function(){var t=function(){function t(n,o,i){e(this,t),this.sched=n,this.state=o,this.modal=i,this.bells=!1,this.bell_sound=new Audio("assets/solemn.mp3")}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.sched.getSchedules().subscribe(function(t){return e.schedules=t}),this.sched.getSchoolYear().subscribe(function(t){return e.schoolYear=t}),this.state.getPreferences().subscribe(function(t){e.preferences=t,e.bells=t.bells}),this.state.getCurrentSchedule().subscribe(function(t){return e.currentSchedule=t}),setInterval(function(){var t=new Date;if(e.currentTime=t.toLocaleTimeString([],{hour12:!1}),e.currentDate=t.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric"}),e.schedules&&e.schoolYear){var n=e.sched.periodCheck(t,e.schoolYear,e.schedules);e.currentStatus&&e.bells&&n.currentPeriod!==e.currentStatus.currentPeriod&&e.bell_sound.play(),e.currentStatus=n}},500)}},{key:"toggleTimeFormat",value:function(e){this.preferences&&this.state.setPreference("twentyfour",!this.preferences.twentyfour)}},{key:"toggleBells",value:function(e){this.preferences&&this.state.setPreference("bells",this.bells)}},{key:"presentAboutPage",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modal.create({component:g});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"playBell",value:function(e){this.bell_sound.play()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Z.Y36(d.F),Z.Y36(h.b),Z.Y36(c.IN))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-current-schedule"]],decls:40,vars:10,consts:[["color","lasa"],["slot","end"],[3,"click"],["slot","icon-only","name","information-circle"],[4,"ngIf","ngIfElse"],["loading",""],["lines","none"],["text-wrap",""],["slot","start","color","lasa",3,"ngModel","ngModelChange"],[3,"hidden"],["slot","start","fill","clear","color","lasa","size","default",3,"click"],["name","play"],["name","share-outline","slot","start"],["name","cog-outline","slot","start"],[4,"ngIf"]],template:function(e,t){if(1&e&&(Z.TgZ(0,"ion-header"),Z.TgZ(1,"ion-toolbar",0),Z.TgZ(2,"ion-title"),Z._uU(3),Z.qZA(),Z.TgZ(4,"ion-buttons",1),Z.TgZ(5,"ion-button",2),Z.NdJ("click",function(){return t.presentAboutPage()}),Z._UZ(6,"ion-icon",3),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(7,"ion-content"),Z.TgZ(8,"ion-card",2),Z.NdJ("click",function(e){return t.toggleTimeFormat(e)}),Z.TgZ(9,"ion-card-header"),Z.TgZ(10,"ion-card-subtitle"),Z._uU(11,"Current Time"),Z.qZA(),Z.TgZ(12,"ion-card-title"),Z._uU(13),Z.ALo(14,"timeFormat"),Z.qZA(),Z.TgZ(15,"div"),Z._uU(16),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"ion-card",0),Z.YNc(18,A,9,3,"div",4),Z.YNc(19,b,3,0,"ng-template",null,5,Z.W1O),Z.qZA(),Z.TgZ(21,"ion-card-content"),Z.TgZ(22,"ion-list",6),Z.TgZ(23,"ion-item"),Z.TgZ(24,"ion-label",7),Z._uU(25,"Use virtual bells (requires app open)"),Z.qZA(),Z.TgZ(26,"ion-toggle",8),Z.NdJ("ngModelChange",function(e){return t.bells=e})("ngModelChange",function(e){return t.toggleBells(e)}),Z.qZA(),Z.qZA(),Z.TgZ(27,"ion-item",9),Z.TgZ(28,"ion-label",7),Z._uU(29,"If bells aren't working, press the play button once to start."),Z.qZA(),Z.TgZ(30,"ion-button",10),Z.NdJ("click",function(e){return t.playBell(e)}),Z._UZ(31,"ion-icon",11),Z.qZA(),Z.qZA(),Z.TgZ(32,"ion-item"),Z.TgZ(33,"ion-label",7),Z._uU(34,"Install this app by adding it to your home screen."),Z.qZA(),Z._UZ(35,"ion-icon",12),Z.qZA(),Z.TgZ(36,"ion-item"),Z.TgZ(37,"ion-label",7),Z._uU(38,"Tap the time to change between 12-hour and 24-hour time."),Z.qZA(),Z._UZ(39,"ion-icon",13),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e){var n=Z.MAs(20);Z.xp6(3),Z.Oqu(t.currentSchedule?t.currentSchedule.name+" Schedule":"Current Schedule"),Z.xp6(10),Z.Oqu(Z.xi3(14,7,t.currentTime,!!t.preferences&&t.preferences.twentyfour)),Z.xp6(3),Z.Oqu(t.currentDate),Z.xp6(2),Z.Q6J("ngIf",t.currentStatus)("ngIfElse",n),Z.xp6(8),Z.Q6J("ngModel",t.bells),Z.xp6(1),Z.Q6J("hidden",!t.bells)}},directives:[c.Gu,c.sr,c.wd,c.Sm,c.YG,c.gu,c.W2,c.PM,c.Zi,c.tO,c.gZ,a.O5,c.FN,c.q_,c.Ie,c.Q$,c.ho,c.w,s.JJ,s.On],pipes:[f.x],styles:[".fix-element-width[_ngcontent-%COMP%]{width:50px}"]}),t}()}],q=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),t}(),_=i(5503),U=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[a.ez,s.u5,c.Pc,q,_.D]]}),t}()}}])}();