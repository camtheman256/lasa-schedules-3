"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9647],{9647:(C,c,l)=>{l.r(c),l.d(c,{CurrentSchedulePageModule:()=>P});var d=l(6895),u=l(4719),n=l(5056),h=l(1430),g=l(5861),e=l(6738);let m=(()=>{class o{constructor(t){this.me=t}ngOnInit(){}dismissModal(){this.me.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-about"]],decls:63,vars:1,consts:[["slot","end"],[3,"click"],["name","close"],[3,"fullscreen"],["collapse","condense"],["size","large"],["src","assets/lasa-banner.png"],["color","lasa",2,"vertical-align","middle"],["href","mailto:cameron@lasa2019.com?subject=LASA%20Schedules%20App%20Feedback"],["href","https://schedules-editor.lasa2019.com","target","_blank"],["href","https://github.com/camtheman256/lasa-schedules-3","target","_blank"],["name","logo-github","slot","start"],["href","https://github.com/camtheman256/lasa-schedules-data","target","_blank"],["href","https://github.com/camtheman256/lasa-schedules-editor","target","_blank"],["href","https://camk.co","target","_blank"],["name","person","slot","start"],["href","https://lasa2019.com","target","_blank"],["name","school","slot","start"],[2,"margin-top","1rem"],["href","https://creativecommons.org/licenses/by/4.0/legalcode","target","_blank"],["href","https://notificationsounds.com/wake-up-tones/solemn-522"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"About LASA Schedules"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return i.dismissModal()}),e._UZ(6,"ion-icon",2),e.qZA()()()(),e.TgZ(7,"ion-content",3)(8,"ion-header",4)(9,"ion-toolbar")(10,"ion-title",5),e._uU(11,"About"),e.qZA()()(),e.TgZ(12,"ion-card"),e._UZ(13,"img",6),e.TgZ(14,"ion-card-header")(15,"ion-card-title"),e._uU(16,"LASA Schedules "),e.TgZ(17,"ion-badge",7),e._uU(18,"v3"),e.qZA()(),e.TgZ(19,"ion-card-subtitle"),e._uU(20,"by Cameron Kleiman for LASA 2019"),e.qZA()(),e.TgZ(21,"ion-card-content")(22,"p"),e._uU(23,"If you have feedback, please email "),e.TgZ(24,"a",8),e._uU(25,"cameron@lasa2019.com"),e.qZA(),e._uU(26,"."),e.qZA(),e.TgZ(27,"p"),e._uU(28,"You can edit the schedules powering this app! Visit "),e.TgZ(29,"a",9),e._uU(30,"LASA Schedules Editor"),e.qZA(),e._uU(31," to get started."),e.qZA(),e.TgZ(32,"ion-list")(33,"ion-list-header"),e._uU(34,"Links"),e.qZA(),e.TgZ(35,"ion-item",10)(36,"ion-label"),e._uU(37,"LASA Schedules 3"),e.qZA(),e._UZ(38,"ion-icon",11),e.qZA(),e.TgZ(39,"ion-item",12)(40,"ion-label"),e._uU(41,"LASA Schedules Data API"),e.qZA(),e._UZ(42,"ion-icon",11),e.qZA(),e.TgZ(43,"ion-item",13)(44,"ion-label"),e._uU(45,"LASA Schedules Editor"),e.qZA(),e._UZ(46,"ion-icon",11),e.qZA(),e.TgZ(47,"ion-item",14)(48,"ion-label"),e._uU(49,"Cameron Kleiman"),e.qZA(),e._UZ(50,"ion-icon",15),e.qZA(),e.TgZ(51,"ion-item",16)(52,"ion-label"),e._uU(53,"LASA 2019"),e.qZA(),e._UZ(54,"ion-icon",17),e.qZA()(),e.TgZ(55,"p",18),e._uU(56," The bell sound used, unaltered, is copyright notificationsounds.com and licensed under "),e.TgZ(57,"a",19),e._uU(58,"CC BY 4.0"),e.qZA(),e._uU(59,". It can be found at "),e.TgZ(60,"a",20),e._uU(61,"this link"),e.qZA(),e._uU(62,". "),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("fullscreen",!0))},dependencies:[n.yp,n.YG,n.Sm,n.PM,n.FN,n.Zi,n.tO,n.Dq,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.yh,n.wd,n.sr]}),o})();var p=l(6421),Z=l(3972),f=l(9775);function A(o,r){if(1&o&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"timeFormat"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" Ends at ",e.xi3(2,1,t.currentStatus.periodEndTime,!!t.preferences&&t.preferences.twentyfour)," ")}}function _(o,r){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" Time remaining: ",t.currentStatus.timeRemaining," ")}}function b(o,r){if(1&o&&(e.TgZ(0,"div")(1,"ion-card-header")(2,"ion-card-subtitle"),e._uU(3,"Current Period"),e.qZA(),e.TgZ(4,"ion-card-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content"),e.YNc(7,A,3,4,"h2",14),e.YNc(8,_,2,1,"p",14),e.qZA()()),2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.currentStatus.currentPeriod),e.xp6(2),e.Q6J("ngIf",t.currentStatus.periodEndTime),e.xp6(1),e.Q6J("ngIf",t.currentStatus.timeRemaining)}}function T(o,r){1&o&&(e.TgZ(0,"ion-card-content")(1,"ion-card-title"),e._uU(2,"Loading..."),e.qZA()())}const S=[{path:"",component:(()=>{class o{constructor(t,i,s){this.sched=t,this.state=i,this.modal=s,this.bells=!1,this.bell_sound=new Audio("assets/solemn.mp3")}ngOnInit(){this.sched.getSchedules().subscribe(t=>this.schedules=t),this.sched.getSchoolYear().subscribe(t=>this.schoolYear=t),this.state.getPreferences().subscribe(t=>{this.preferences=t,this.bells=t.bells}),this.state.getCurrentSchedule().subscribe(t=>this.currentSchedule=t),setInterval(()=>{let t=new Date;if(this.currentTime=t.toLocaleTimeString([],{hour12:!1}),this.currentDate=t.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric"}),this.schedules&&this.schoolYear){let i=this.sched.periodCheck(t,this.schoolYear,this.schedules);this.currentStatus&&this.bells&&i.currentPeriod!==this.currentStatus.currentPeriod&&this.bell_sound.play(),this.currentStatus=i}},500)}toggleTimeFormat(t){this.preferences&&this.state.setPreference("twentyfour",!this.preferences.twentyfour)}toggleBells(t){this.preferences&&this.state.setPreference("bells",this.bells)}presentAboutPage(){var t=this;return(0,g.Z)(function*(){return yield(yield t.modal.create({component:m})).present()})()}playBell(t){this.bell_sound.play()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F),e.Y36(Z.b),e.Y36(n.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-current-schedule"]],decls:40,vars:10,consts:[["color","lasa"],["slot","end"],[3,"click"],["slot","icon-only","name","information-circle"],[4,"ngIf","ngIfElse"],["loading",""],["lines","none"],["text-wrap",""],["slot","start","color","lasa",3,"ngModel","ngModelChange"],[3,"hidden"],["slot","start","fill","clear","color","lasa","size","default",3,"click"],["name","play"],["name","share-outline","slot","start"],["name","cog-outline","slot","start"],[4,"ngIf"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-button",2),e.NdJ("click",function(){return i.presentAboutPage()}),e._UZ(6,"ion-icon",3),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-card",2),e.NdJ("click",function(a){return i.toggleTimeFormat(a)}),e.TgZ(9,"ion-card-header")(10,"ion-card-subtitle"),e._uU(11,"Current Time"),e.qZA(),e.TgZ(12,"ion-card-title"),e._uU(13),e.ALo(14,"timeFormat"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA()()(),e.TgZ(17,"ion-card",0),e.YNc(18,b,9,3,"div",4),e.YNc(19,T,3,0,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(21,"ion-card-content")(22,"ion-list",6)(23,"ion-item")(24,"ion-label",7),e._uU(25,"Use virtual bells (requires app open)"),e.qZA(),e.TgZ(26,"ion-toggle",8),e.NdJ("ngModelChange",function(a){return i.bells=a})("ngModelChange",function(a){return i.toggleBells(a)}),e.qZA()(),e.TgZ(27,"ion-item",9)(28,"ion-label",7),e._uU(29,"If bells aren't working, press the play button once to start."),e.qZA(),e.TgZ(30,"ion-button",10),e.NdJ("click",function(a){return i.playBell(a)}),e._UZ(31,"ion-icon",11),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-label",7),e._uU(34,"Install this app by adding it to your home screen."),e.qZA(),e._UZ(35,"ion-icon",12),e.qZA(),e.TgZ(36,"ion-item")(37,"ion-label",7),e._uU(38,"Tap the time to change between 12-hour and 24-hour time."),e.qZA(),e._UZ(39,"ion-icon",13),e.qZA()()()()),2&t){const s=e.MAs(20);e.xp6(3),e.Oqu(i.currentSchedule?i.currentSchedule.name+" Schedule":"Current Schedule"),e.xp6(10),e.Oqu(e.xi3(14,7,i.currentTime,!!i.preferences&&i.preferences.twentyfour)),e.xp6(3),e.Oqu(i.currentDate),e.xp6(2),e.Q6J("ngIf",i.currentStatus)("ngIfElse",s),e.xp6(8),e.Q6J("ngModel",i.bells),e.xp6(1),e.Q6J("hidden",!i.bells)}},dependencies:[d.O5,u.JJ,u.On,n.YG,n.Sm,n.PM,n.FN,n.Zi,n.tO,n.Dq,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.wd,n.ho,n.sr,n.w,f.x],styles:[".fix-element-width[_ngcontent-%COMP%]{width:50px}"]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(S),h.Bz]}),o})();var q=l(5503);let P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,u.u5,n.Pc,U,q.D]}),o})()}}]);